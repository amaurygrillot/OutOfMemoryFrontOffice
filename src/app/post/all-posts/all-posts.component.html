<mat-spinner *ngIf="isLoading"></mat-spinner>

<div *ngIf="posts && posts.length > 0 && !isLoading">
  <mat-form-field class="example-full-width" style="min-width : 30%; margin-left: 2%; margin-top: 2%">
    <input type="text" placeholder="Search a post" aria-label="Select Posts" matInput [formControl]="postControl">
  </mat-form-field>

  <mat-form-field class="example-full-width" style="min-width : 30%; margin-left: 2%; margin-top: 2%">
    <mat-select placeholder="Sort by..." [formControl]="sortControl" #selectSort>
      <mat-option (click)="sortPosts('Popularité')" [value]="'Popularité'">Popularity</mat-option>
      <mat-option (click)="sortPosts('Date')" [value]="'Date'">Date</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="example-full-width" style="min-width : 30%; margin-left: 2%; margin-top: 2%">
    <mat-select placeholder="See posts from : " [formControl]="ageControl" #selectDate>
      <mat-option (click)="selectAge('Today')" [value]="'Today'">Today</mat-option>
      <mat-option (click)="selectAge('Week')" [value]="'Week'">This week</mat-option>
      <mat-option (click)="selectAge('All')" [value]="'All'">All time</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-card class="example-card" *ngFor=" let post of filteredPosts | async" style="max-height: 100%; max-width: 100%">

    <mat-card-content>
      <app-post [post]="post"></app-post>
    </mat-card-content>
  </mat-card>
</div>

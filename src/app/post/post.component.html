<mat-spinner *ngIf="isLoading"></mat-spinner>

<div *ngIf="posts && posts.length > 0 && !isLoading">
  <ul *ngFor=" let post of posts">
    <li>
      <mat-card class="example-card">
        <mat-card-header>
          <img mat-card-avatar src="{{ this.URL }}/{{ post.avatar }}" alt="{{ post.avatar }}">
          <mat-card-title>{{ post.username }}</mat-card-title>
          <mat-card-subtitle>{{ post.created_at }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <h2>{{ post.title }}</h2>
          <p>
            {{ post.description }}
          </p>
        </mat-card-content>

        <div
          *ngIf="post.images.toLowerCase().endsWith('.jpg') || post.images.toLowerCase().endsWith('.png') || post.images.toLowerCase().endsWith('.jpeg'); then imageContent else codeContent"></div>
        <ng-template #imageContent>
          <img class="image-card" mat-card-image src="{{ this.URL }}/{{ post.images }}" alt="{{ post.images }}">
        </ng-template>
        <ng-template #codeContent>
          <!-- Insert code content here -->
          {{ post.images }}
          <full-code-editor></full-code-editor>
        </ng-template>

        <mat-card-actions>
          <button mat-button>LIKE</button>
          <button mat-button>COMMENT</button>
          <button mat-button>SHARE</button>
        </mat-card-actions>
      </mat-card>
    </li>
  </ul>
</div>
